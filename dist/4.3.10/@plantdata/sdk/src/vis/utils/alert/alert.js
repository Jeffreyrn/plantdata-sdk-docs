"use strict";var __extends=this&&this.__extends||function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),component_1=require("../../../core/component"),check_circle_1=require("../../../icon/check-circle"),error_1=require("../../../icon/error"),info_1=require("../../../icon/info"),close_circle_1=require("../../../icon/close-circle"),close_1=require("../../../icon/close"),PdVisAlert=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.bindEvent=function(){var e=this;this.$el.on("click",".pdvis-alert-icon-close",function(t){e.settings.beforeClose?e.settings.beforeClose().then(function(){$(t.currentTarget).closest(".pdvis-alert").remove()}):$(t.currentTarget).closest(".pdvis-alert").remove()})},t.prototype.created=function(){this.selector=$(this.settings.selector)},t.prototype.initTemplate=function(){this.selector.addClass("pdvis-alert").addClass("clearfix").addClass("pdvis-alert-"+this.settings.type);var e="",t="",s="";if(this.settings.showIcon)switch(this.settings.type){case"success":e=check_circle_1["default"](20,{"class":"pdvis-alert-icon-success pdvis-alert-icon"});break;case"warning":e=error_1["default"](20,{"class":"pdvis-alert-icon-warning pdvis-alert-icon"});break;case"info":e=info_1["default"](20,{"class":"pdvis-alert-icon-info pdvis-alert-icon"});break;case"error":e=close_circle_1["default"](20,{"class":"pdvis-alert-icon-error pdvis-alert-icon"})}if(this.settings.texts&&this.settings.texts.length)if(1===this.settings.texts.length)s='<div class="pdvis-alert-content">'+this.settings.texts[0]+"</div>";else{for(var i="",r=0,n=this.settings.texts;r<n.length;r++){var o=n[r];i+='<div class="pdvis-alert-marquee-item">'+o+"</div>"}s='<marquee\n                             class="pdvis-alert-content"\n                             direction="up"\n                             height="20px"\n                             onMouseOut="this.start()"\n                             onMouseOver="this.stop()"\n                             behavior="scroll"\n                             scrolldelay="500" >'+i+"</marquee>"}else s='<div class="pdvis-alert-content">'+this.settings.text+"</div>";return this.settings.closable&&(t=this.settings.closeText?'<span class="pdvis-alert-icon-close pdvis-alert-icon-close-text">'+this.settings.closeText+"</span>":close_1["default"](20,{"class":"pdvis-alert-icon-close"})),this.selector.append(""+e+s+t),this.selector},t.prototype.mounted=function(){this.bindEvent()},t.defaultSettings={type:"info"},t}(component_1.PdComponent);exports.PdVisAlert=PdVisAlert;