"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var message_1=require("../ui/components/message/message"),lodash_1=require("lodash"),icon_1=require("../icon"),inbox_1=require("../icon/inbox"),PdCommonUtils=function(){function e(){}return e.addLocaleCompare=function(){"".localeCompare||(String.prototype.localeCompare=function(e){var n=this.valueOf();return n===e?0:n>e?1:-1})},e.applyMixins=function(e,n){n.forEach(function(n){Object.getOwnPropertyNames(n.prototype).forEach(function(t){e.prototype[t]=n.prototype[t]})})},e.buildNoData=function(e){return void 0===e&&(e="无数据"),'<div class="pd-no-data">'+inbox_1["default"](64)+'<div class="pd-no-data-text">'+e+"</div></div>"},e.canvasSupport=function(){return!!document.createElement("canvas").getContext},e.createId=function(n,t,o){void 0===n&&(n=""),void 0===t&&(t=""),void 0===o&&(o="");var r=n+(o?o:(new Date).getTime()+Math.ceil(1e4*e.random()))+t;return e.exIds[r]?e.createId(n,t,o):(e.exIds[r]=!0,r)},e.error=function(e,n){message_1.PdUIMessage.error(e,n)},e.getBrowserEnv=function(){var e={};if(navigator&&navigator.userAgent){var n=navigator.userAgent,t=n.match(/Firefox\/([\d.]+)/),o=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),r=n.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(n);t&&(e.firefox=!0,e.version=parseInt(t[1],10)),o&&(e.ie=!0,e.version=parseInt(o[1],10)),r&&(e.edge=!0,e.version=parseInt(r[1],10)),a&&(e.weChat=!0)}return e},e.getSearchParam=function(e,n){void 0===n&&(n=window.location.search);var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=n.substr(1).match(t);return null!==o?decodeURIComponent(o[2]):null},e.getViewport=function(){var e="CSS1Compat"===document.compatMode;return{left:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),width:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),top:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),height:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},e.indexOfIgnoreType=function(e,n){for(var t=-1,o=0,r=0,a=e;r<a.length;r++){var i=a[r];i.toString()===n.toString()&&(t=o),o++}return t},e.info=function(e){message_1.PdUIMessage.info(e)},e.listToTree=function(n,t,o,r,a){void 0===t&&(t="0"),void 0===o&&(o="value"),void 0===r&&(r="label"),void 0===a&&(a="pId");var i=lodash_1.map(lodash_1.filter(n,[a,t]),function(e){return{value:e[o],label:e[r]}});if(i&&i.length)for(var c=0,d=i;c<d.length;c++){var s=d[c],f=s.value.toString(),l=e.listToTree(n,f,o,r,a);l&&l.length&&(s.children=l)}return i},e.logger=function(e){void 0===e&&(e="log");for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];console&&console[e]&&console[e](n)},e.merge=function(n,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];for(var a=0,i=o;a<i.length;a++){var c=i[a];t=e.mergeOne(n,t,c)}return t},e.mergeOne=function(n,t,o){if(n){for(var r in o)if(o.hasOwnProperty(r))if(o[r]instanceof Array)if(t[r]instanceof Array)for(var a in o[r])o[r].hasOwnProperty(a)&&(o[r][a]instanceof Object&&t[r][a]instanceof Object?t[r][a]=e.mergeOne(n,t[r][a],o[r][a]):t[r][a]=o[r][a]);else t[r]=o[r];else o[r]instanceof Object&&t[r]instanceof Object?t[r]=e.mergeOne(n,t[r],o[r]):t[r]=o[r]}else for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},e.random=function(e,n){return void 0===e&&(e=1),void 0===n&&(n=!0),lodash_1.random(e,n)},e.stringify=function(e){if(!e)return e;var n=JSON.stringify(e,function(e,n){if("function"==typeof n){var t="FUNC__START"+n+"FUNC__END";return t=t.replace(/[\r\n\t]/g,"")}return n});return n?n.replace(/"FUNC__START/g,"").replace(/FUNC__END"/g,""):""},e.success=function(e){message_1.PdUIMessage.success(e)},e.transferOption=function(n,t,o){void 0===o&&(o=[]);var r=[];for(var a in n)if(n.hasOwnProperty(a)){var i=lodash_1.cloneDeep(o),c="",d="",s=void 0;n instanceof Array?n[a]instanceof Object?(s=n[a],d=s.value):(d=n[a],c=n[a],s={label:c,value:d}):(d=a,c=n[a],s={label:c,value:d}),i.push(d),s._path=i,s.children&&(s.children=e.transferOption(s.children,t,i)),t&&(t instanceof Array?e.indexOfIgnoreType(t,d)!==-1&&(s.checked=!0):t.toString()===d.toString()&&(s.checked=!0)),r.push(s)}return r},e.warning=function(e){message_1.PdUIMessage.warning(e)},e.colorBase=["#7bc0e1","#9ec683","#fde14d","#ab89f4","#e26f63","#dca8c6","#596690","#eaad84","#abe8bf","#7979fc"],e.colorBaseLight=["#95cde7","#a6cb8d","#fde45c","#b192f5","#e88c82","#dfafca","#7a85a6","#ecb48e","#bcedcc","#8484fd"],e.colorEx=["#6db5d6","#d0648a","#c0d684","#f2bac9","#847d99","#baf2d8","#bfb3de","#f4817c","#94cdba","#b2cede"],e.createSVGStr=icon_1.PdIconUtils.createSVGStr,e.eval=eval,e.exIds={},e}();exports.PdCommonUtils=PdCommonUtils;