"use strict";var __extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),lodash_1=require("lodash"),editor_tool_1=require("./editor-tool"),call_merge_1=require("../../../../icon/call-merge"),PdSDKEditorMergeRelation=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.updateStatusBySelection=function(t,e,i){if(0===t.length&&e.length>=2){var n=lodash_1.map(e,"from"),o=lodash_1.map(e,"to");n=lodash_1.uniq(n),o=lodash_1.uniq(o),1===n.length&&1===o.length?(this.links=e,this.updateStatus(!0),this.updateVisibility(!0)):(this.updateStatus(!1),this.updateVisibility(!1))}else this.updateStatus(!1),this.updateVisibility(!1)},e.prototype.initSettings=function(i){var n=$.extend(!0,{},e.defaultSettings);return $.extend(!0,{},t.prototype.initSettings.call(this,n),i)},e.prototype.onClick=function(t){var e=this,i=this.settings.netChart.getData(),n=$.extend.apply($,[!0,{}].concat(this.links));lodash_1.remove(i.links,function(t){return lodash_1.find(e.links,function(e){return e.id===t.id})}),i.links.push(n),this.settings.netChart.chart.replaceData(i)},e.defaultSettings={cls:["pd-btn-float"],name:"mergeRelation",title:"关系合并",disabled:!0,visible:!1,icon:call_merge_1["default"](20)},e}(editor_tool_1.PdSDKEditorTool);exports.PdSDKEditorMergeRelation=PdSDKEditorMergeRelation;