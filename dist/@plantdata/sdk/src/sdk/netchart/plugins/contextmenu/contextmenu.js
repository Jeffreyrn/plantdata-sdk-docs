"use strict";var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),settings_input_component_1=require("../../../../icon/settings-input-component"),category_1=require("../../../../icon/category"),mode_edit_1=require("../../../../icon/mode-edit"),contextmenu_1=require("../../../../vis/netchart/plugins/contextmenu"),graph_clear_1=require("../../../../vis/utils/tool-item/graph-clear"),sub_graph_add_1=require("../../../utils/tool-item/sub-graph-add"),node_hide_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-hide"),node_close_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-close"),node_collapse_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-collapse"),node_expand_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-expand"),node_lock_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-lock"),node_unlock_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-unlock"),node_show_all_links_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-show-all-links"),node_focus_to_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-focus-to"),node_reduce_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-reduce"),node_unreduce_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-unreduce"),node_emphasis_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-emphasis"),node_unemphasis_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-unemphasis"),node_image_show_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-image-show"),node_image_hide_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-image-hide"),node_label_inner_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-label-inner"),node_label_outer_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-label-outer"),node_label_show_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-label-show"),node_label_hide_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/node/node-label-hide"),link_unemphasis_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-unemphasis"),link_hide_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-hide"),link_reduce_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-reduce"),link_unreduce_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-unreduce"),link_emphasis_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-emphasis"),link_label_show_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-label-show"),link_label_hide_1=require("../../../../vis/netchart/plugins/contextmenu/contextmenu-item/link/link-label-hide"),editor_define_attribute_edge_1=require("../editor/editor-define-attribute-edge"),editor_define_relation_edge_1=require("../editor/editor-define-relation-edge"),editor_edit_edge_1=require("../editor/editor-edit-edge"),editor_delete_1=require("../editor/editor-delete"),editor_add_sub_concept_1=require("../editor/editor-add-sub-concept"),editor_add_relation_1=require("../editor/editor-add-relation"),editor_edit_instance_attr_1=require("../editor/editor-edit-instance-attr"),editor_edit_instance_1=require("../editor/editor-edit-instance"),editor_define_relation_concept_1=require("../editor/editor-define-relation-concept"),editor_define_attribute_concept_1=require("../editor/editor-define-attribute-concept"),editor_edit_concept_1=require("../editor/editor-edit-concept"),editor_add_sub_instance_1=require("../editor/editor-add-sub-instance"),editor_add_siblings_concept_1=require("../editor/editor-add-siblings-concept"),infobox_1=require("../../../utils/tool-item/infobox"),PdSDKPluginContextmenu=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.createToolItem=function(e){if("string"==typeof e){var t=this.settings.menu[e];if(t&&t.enable!==!1){var n=[];if(t.children)for(var i=0,o=t.children;i<o.length;i++){var d=o[i],r=this.createToolItem(d);r&&n.push(r)}var s=t.settings||{};if(n.length&&(s.children=n),t.constr){var l=this.createToolItemSettings(s,t.isEdit);return new t.constr(l)}if(t.settings)return this.createGeneralToolItem(s)}}else{var s=this.settings.menu[e.name];if(!s||s.enable!==!1)return this.createGeneralToolItem(e)}return null},t.prototype.createToolItems=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=this.createToolItem(i);o&&this.addToolItem(o.getToolType(),o)}},t.prototype.createToolItemSettings=function(t,n){void 0===n&&(n=!1);var i=$.extend(!0,e.prototype.createToolItemSettings.call(this,t),{schema:this.settings.schema,kgName:this.settings.kgName,sdkNetChart:this.settings.sdkNetChart,promptSettings:this.settings.promptSettings,ajaxSettings:this.settings.ajaxSettings},t);return n&&this.settings.editSettings&&$.extend(!0,i,this.settings.editSettings),i},t.prototype.initSettings=function(n){var i=$.extend(!0,{},e.prototype.initSettings.call(this,t.defaultSettings),n);return i.editEnable||$.extend(!0,i,t.editDisableSettings),i.items=n.items||i.items,i},t.editDisableSettings={menu:{deleteEdge:{enable:!1},deleteEntity:{enable:!1},"node-editor":{enable:!1},"link-editor":{enable:!1}}},t.defaultSettings={editEnable:!1,menu:{infobox:{constr:infobox_1.PdSDKToolInfobox},"node-focus-to":{constr:node_focus_to_1.PdVisContextmenuItemNodeFocusTo},"sub-graph":{constr:sub_graph_add_1.PdSDKToolSubGraphAdd},"node-hide":{constr:node_hide_1.PdVisContextmenuItemNodeHide},"node-reduce":{constr:node_reduce_1.PdVisContextmenuItemNodeReduce},"node-unreduce":{constr:node_unreduce_1.PdVisContextmenuItemNodeUnreduce},"node-emphasis":{constr:node_emphasis_1.PdVisContextmenuItemNodeEmphasis},"node-unemphasis":{constr:node_unemphasis_1.PdVisContextmenuItemNodeUnemphasis},"node-image-show":{constr:node_image_show_1.PdVisContextmenuItemNodeImageShow},"node-image-hide":{constr:node_image_hide_1.PdVisContextmenuItemNodeImageHide},"node-label-inner":{constr:node_label_inner_1.PdVisContextmenuItemNodeLabelInner},"node-label-outer":{constr:node_label_outer_1.PdVisContextmenuItemNodeLabelOuter},"node-label-show":{constr:node_label_show_1.PdVisContextmenuItemNodeLabelShow},"node-label-hide":{constr:node_label_hide_1.PdVisContextmenuItemNodeLabelHide},"link-hide":{constr:link_hide_1.PdVisContextmenuItemLinkHide},"link-reduce":{constr:link_reduce_1.PdVisContextmenuItemLinkReduce},"link-unreduce":{constr:link_unreduce_1.PdVisContextmenuItemLinkUnreduce},"link-emphasis":{constr:link_emphasis_1.PdVisContextmenuItemLinkEmphasis},"link-unemphasis":{constr:link_unemphasis_1.PdVisContextmenuItemLinkUnemphasis},"link-label-show":{constr:link_label_show_1.PdVisContextmenuItemLinkLabelShow},"link-label-hide":{constr:link_label_hide_1.PdVisContextmenuItemLinkLabelHide},"node-expand":{constr:node_expand_1.PdVisContextmenuItemNodeExpand},"node-close":{constr:node_close_1.PdVisContextmenuItemNodeClose},"node-collapse":{constr:node_collapse_1.PdVisContextmenuItemNodeCollapse},"node-lock":{constr:node_lock_1.PdVisContextmenuItemNodeLock},"node-unlock":{constr:node_unlock_1.PdVisContextmenuItemNodeUnlock},"node-show-all-links":{constr:node_show_all_links_1.PdVisContextmenuItemNodeShowAllLinks},defineAttributeEdge:{isEdit:!0,constr:editor_define_attribute_edge_1.PdSDKEditorDefineAttributeEdge},defineRelationEdge:{isEdit:!0,constr:editor_define_relation_edge_1.PdSDKEditorDefineRelationEdge},editEdge:{isEdit:!0,constr:editor_edit_edge_1.PdSDKEditorEditEdge},deleteEdge:{isEdit:!0,constr:editor_delete_1.PdSDKEditorDelete},addSubConcept:{isEdit:!0,constr:editor_add_sub_concept_1.PdSDKEditorAddSubConcept},addSiblingsConcept:{isEdit:!0,constr:editor_add_siblings_concept_1.PdSDKEditorAddSiblingsConcept},addSubInstance:{isEdit:!0,constr:editor_add_sub_instance_1.PdSDKEditorAddSubInstance},editConcept:{isEdit:!0,constr:editor_edit_concept_1.PdSDKEditorEditConcept},defineAttribute:{isEdit:!0,constr:editor_define_attribute_concept_1.PdSDKEditorDefineAttributeConcept},defineRelation:{isEdit:!0,constr:editor_define_relation_concept_1.PdSDKEditorDefineRelationConcept},deleteEntity:{isEdit:!0,constr:editor_delete_1.PdSDKEditorDelete},editInstance:{isEdit:!0,constr:editor_edit_instance_1.PdSDKEditorEditInstance},editInstanceAttr:{isEdit:!0,constr:editor_edit_instance_attr_1.PdSDKEditorEditInstanceAttr},addRelation:{isEdit:!0,constr:editor_add_relation_1.PdSDKEditorAddRelation},"node-editor":{children:["addSubConcept","addSiblingsConcept","addSubInstance","editConcept","defineAttribute","defineRelation","editInstance","editInstanceAttr","addRelation"],settings:{title:"实体编辑",icon:mode_edit_1["default"](20)}},"node-style":{children:["node-reduce","node-unreduce","node-emphasis","node-unemphasis","node-image-show","node-image-hide","node-label-inner","node-label-outer","node-label-show","node-label-hide"],settings:{title:"实体样式",icon:category_1["default"](20)}},"link-editor":{children:["defineAttributeEdge","defineRelationEdge","editEdge"],settings:{title:"关系编辑",icon:mode_edit_1["default"](20)}},"link-style":{children:["link-hide","link-reduce","link-unreduce","link-emphasis","link-unemphasis","link-label-show","link-label-hide"],settings:{title:"关系样式",icon:category_1["default"](20)}},other:{children:["node-expand","node-close","node-collapse","node-lock","node-unlock","node-show-all-links","deleteEntity"],settings:{title:"其他操作",icon:settings_input_component_1["default"](20)}},clear:{constr:graph_clear_1.PdVisToolGraphClear}},items:["node-focus-to","node-hide","sub-graph","node-editor","node-style","link-editor","link-style","other","clear"]},t}(contextmenu_1.PdVisPluginContextmenu);exports.PdSDKPluginContextmenu=PdSDKPluginContextmenu;