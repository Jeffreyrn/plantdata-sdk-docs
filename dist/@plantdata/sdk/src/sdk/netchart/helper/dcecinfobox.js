"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),close_1=require("../../../icon/close"),PdSDKDcEcInfoboxHelper=function(){function o(o,i){this.infobox=o,this.netChart=i,this.bindInfoboxEvent()}return o.prototype.showInfoboxAuto=function(o,i,n){var t=this,e=!0,s=close_1["default"](24),d='<div class="pdsdk-infobox-close">'+s+"</div>";if(o.detail){var l=o.detail;this.infobox.buildInfobox(l),this.infobox.$el.append(d)}else this.infoboxLoadingId!==o.id?(this.infoboxLoadingId=o.id,this.infobox.load(o,function(i){o.detail=i,t.infobox.$el.append(d),t.infoboxLoadingId=null}).then(function(){},function(){t.infobox.$el.html('<div class="pdsdk-infobox-status pdsdk-status-error">数据加载失败</div>'),t.infobox.$el.append(d),t.infoboxLoadingId=null}),this.infobox.$el.html('<div class="pdsdk-infobox-status pdsdk-status-loading">数据加载中...</div>'),this.infobox.$el.append(d)):e=!1;e&&(this.infobox.$el.css({left:i,top:n}),this.netChart.$el.append(this.infobox.$el))},o.prototype.closeInfobox=function(o){!$(o.target).closest(".pdsdk-infobox-close").length&&$(o.target).closest(".pdsdk-infobox").length||(this.infobox.$el.detach(),this.infoboxLoadingId=null)},o}();exports.PdSDKDcEcInfoboxHelper=PdSDKDcEcInfoboxHelper;