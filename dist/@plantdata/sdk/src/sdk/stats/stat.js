"use strict";var __extends=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),common_1=require("../../common/common"),utils_1=require("../utils/utils"),component_1=require("../../core/component"),PdSDKStat=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.destroy=function(){this.chart&&($(window).off("resize",this.chartResize),this.chart.dispose()),t.prototype.destroy.call(this)},e.prototype.load=function(){var t=this,e=this.settings.ajaxSettings,r=e.queryData||{},n=e.formData||{},o=this.$el.empty(),i="";i=n.returnType&&2===parseInt(n.returnType,10)?"data/stat/3d":"/data/stat/2d";var s={url:e.baseUrl+i,type:"POST",data:n,el:o[0]};return s=$.extend(!0,{},s,e),s.url=utils_1.PdSDKUtils.buildUrl(s.url,r),utils_1.PdSDKUtils.ajax(s).then(function(e){return s.success?e:(t.data=e,void t.drawChart())})},e.prototype.resize=function(){this.chart&&this.chart.resize()},e.prototype.bindEvent=function(){var e=this;t.prototype.bindEvent.call(this),this.chartResize=function(){e.resize()},$(window).on("resize",this.chartResize)},e.prototype.initSettings=function(t){return $.extend(!0,{},e.defaultSettings,t)},e.prototype.initTemplate=function(){var t=$(this.settings.selector);return this.saveOriginClass(t),t},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.settings.data&&(this.data=this.settings.data,this.drawChart()),this.bindEvent()},e.defaultSettings={color:common_1.PdCommonUtils.colorBase,type:"line"},e}(component_1.PdComponent);exports.PdSDKStat=PdSDKStat;