"use strict";var __extends=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),button_1=require("../../../../ui/components/button/button"),common_1=require("../../../../common/common"),cascader_1=require("../../cascader/cascader"),tag_complex_editor_1=require("../tag-complex-editor"),PdVisTagCascader=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.valueToData=function(t){return t?this.cascader.getValueObj(t):null},e.prototype.bindEvent=function(){var e=this;t.prototype.bindEvent.call(this),this.$editor.on("click",".pdvis-tag-control",function(){var t=e.cascader.getValue();t?e.addData(t).then(function(){e.cascader.setValue(null)},function(t){common_1.PdCommonUtils.error(t)}):common_1.PdCommonUtils.error("请选择一个项目后再进行添加操作")})},e.prototype.createEditor=function(){var t=button_1.PdUIButton.create({html:"添加",size:this.settings.size,type:"primary",cls:"pdvis-tag-control"});return $('<div class="pdvis-tag-editor-editor pdvis-tag-cascader-editor"><div class="pdvis-tag-cascader-box"></div>'+t+"</div>")},e.prototype.initSettings=function(o){return $.extend(!0,{},t.prototype.initSettings.call(this,e.defaultSettings),o)},e.prototype.initTemplate=function(){var e=t.prototype.initTemplate.call(this);e.addClass("pdvis-tag-cascader");var o=$.extend(!0,{size:this.settings.size},this.settings.cascaderSettings,{selector:e.find(".pdvis-tag-cascader-box"),labelKey:this.settings.labelKey,valueKey:this.settings.valueKey});return this.cascader=new cascader_1.PdVisCascader(o),e},e.prototype.unbindEvent=function(){t.prototype.unbindEvent.call(this),this.$editor.off("click",".pdvis-tag-control")},e.defaultSettings={cascaderSettings:{}},e}(tag_complex_editor_1.PdVisTagComplexEditor);exports.PdVisTagCascader=PdVisTagCascader;