"use strict";var __extends=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $=require("jquery"),lodash_1=require("lodash"),tag_1=require("../../../ui/components/tag/tag"),tag_editor_1=require("./tag-editor"),PdVisTagComplexEditor=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.dataToValue=function(t){return t?t[this.settings.valueKey]:null},e.prototype.existData=function(t){var e=this;return!!lodash_1.find(this.data,function(r){return r[e.settings.valueKey].toString()===t.toString()})},e.prototype.getData=function(){var t=this;return lodash_1.map(this.data||[],function(e){return t.dataToValue(e)})},e.prototype.valueToData=function(t){var e;return t?(e={},e[this.settings.labelKey]=t.toString(),e[this.settings.valueKey]=t,e):null},e.prototype.createData=function(t){return tag_1.PdUITag.create({size:this.settings.size,type:"primary",removable:!0,html:"<span>"+t[this.settings.labelKey]+"</span>",cls:"pdvis-tag-editor-item",atts:{"data-pdui-value":t[this.settings.valueKey]}})},e.prototype.initSettings=function(r){return $.extend(!0,{},t.prototype.initSettings.call(this,e.defaultSettings),r)},e.prototype.initTemplate=function(){var e=t.prototype.initTemplate.call(this);return e.addClass("pdvis-tag-complex-editor"),e},e.defaultSettings={repeatable:!1,labelKey:"label",valueKey:"value"},e}(tag_editor_1.PdVisTagEditor);exports.PdVisTagComplexEditor=PdVisTagComplexEditor;